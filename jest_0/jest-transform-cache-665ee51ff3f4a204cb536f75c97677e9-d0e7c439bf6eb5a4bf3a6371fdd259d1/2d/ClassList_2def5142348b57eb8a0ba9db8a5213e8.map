{"version":3,"sources":["ClassList.js"],"names":["columns","name","selector","center","sortable","ClassList","props","state","data","getData","interval","setInterval","localStorage","clear","process","env","REACT_APP_REFRESH_RATE","setState","map","classes","index","rank","teacher_name","class_name","school","school_name","score","clearInterval","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;AAEA,IAAMA,OAAO,GAAG,CACZ;AACIC,EAAAA,IAAI,EAAE,MADV;AAEIC,EAAAA,QAAQ,EAAE,MAFd;AAGIC,EAAAA,MAAM,EAAE;AAHZ,CADY,EAMZ;AACIF,EAAAA,IAAI,EAAE,gBADV;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CANY,EAUZ;AACID,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,QAAQ,EAAE,OAFd;AAGIC,EAAAA,MAAM,EAAE;AAHZ,CAVY,EAeZ;AACIF,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CAfY,EAmBZ;AACID,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,QAAQ,EAAE,OAFd;AAGIE,EAAAA,QAAQ,EAAE,IAHd;AAIID,EAAAA,MAAM,EAAE;AAJZ,CAnBY,CAAhB;;IA2BME,S;;;;;AACF,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACf,qHAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE;AADG,KAAb;AAFe;AAKlB;;;;wCAEmB;AAAA;;AAChB,WAAKC,OAAL;AACA,WAAKC,QAAL,GAAgBC,WAAW,CAAC,YAAM;AAC9BC,QAAAA,YAAY,CAACC,KAAb;;AACA,QAAA,MAAI,CAACJ,OAAL;AACH,OAH0B,EAGxBK,OAAO,CAACC,GAAR,CAAYC,sBAHY,CAA3B;AAIH;;;;;;;;;;;;;uBAIsB,yBAAQ,2BAAR,C;;;AAAbR,gBAAAA,I;AACN,qBAAKS,QAAL,CAAc;AACVT,kBAAAA,IAAI,EAAEA,IAAI,CAACU,GAAL,CAAS,UAACC,OAAD,EAAUC,KAAV;AAAA,2BAAqB;AAChCC,sBAAAA,IAAI,EAAED,KAAK,GAAG,CADkB;AAEhCE,sBAAAA,YAAY,EAAEH,OAAO,CAACG,YAFU;AAGhC,+BAAOH,OAAO,CAACI,UAHiB;AAIhCC,sBAAAA,MAAM,EAAEL,OAAO,CAACM,WAJgB;AAKhCC,sBAAAA,KAAK,EAAEP,OAAO,CAACO;AALiB,qBAArB;AAAA,mBAAT;AADI,iBAAd;;;;;;;;;;;;;;;;;;2CAWmB;AACnBC,MAAAA,aAAa,CAAC,KAAKjB,QAAN,CAAb;AACH;;;6BAEQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAEI,gCAAC,mCAAD;AACI,QAAA,OAAO,EAAEV,OADb;AAEI,QAAA,gBAAgB,MAFpB;AAGI,QAAA,cAAc,MAHlB;AAII,QAAA,OAAO,MAJX;AAKI,QAAA,SAAS,EAAC,eALd;AAMI,QAAA,IAAI,EAAE,KAAKO,KAAL,CAAWC,IANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAaH;;;EAhDmBoB,gB;;eAmDTvB,S","sourcesContent":["import React, { Component } from 'react';\nimport service from '../Services/service';\nimport DataTable from 'react-data-table-component';\n\nconst columns = [\n    {\n        name: 'Rank',\n        selector: 'rank',\n        center: true\n    },\n    {\n        name: \"Teacher's Name\",\n        selector: 'teacher_name'\n    },\n    {\n        name: 'Class',\n        selector: 'class',\n        center: true\n    },\n    {\n        name: 'School',\n        selector: 'school'\n    },\n    {\n        name: 'Score',\n        selector: 'score',\n        sortable: true,\n        center: true\n    }\n];\n\nclass ClassList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: []\n        };\n    }\n\n    componentDidMount() {\n        this.getData();\n        this.interval = setInterval(() => {\n            localStorage.clear();\n            this.getData();\n        }, process.env.REACT_APP_REFRESH_RATE);\n    }\n\n    \n    async getData() {\n        const data = await service('../data/class-scores.json');\n        this.setState({\n            data: data.map((classes, index) => ({\n                rank: index + 1,\n                teacher_name: classes.teacher_name,\n                class: classes.class_name,\n                school: classes.school_name,\n                score: classes.score\n            }))\n        });\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    render() {\n        return (\n            <div className=\"student-container\">\n                <h2>Class Leaderboard</h2>\n                <DataTable\n                    columns={columns}\n                    highlightOnHover\n                    pointerOnHover\n                    striped\n                    className=\"student-table\"\n                    data={this.state.data}\n                />\n            </div>\n        );\n    }\n}\n\nexport default ClassList;"]}