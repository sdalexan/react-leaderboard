{"version":3,"sources":["SchoolList.js"],"names":["columns","name","selector","center","sortable","SchoolList","props","state","data","getData","interval","setInterval","localStorage","clear","process","env","REACT_APP_REFRESH_RATE","setState","map","school","index","rank","admin_name","school_name","school_address","score","clearInterval","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;AAEA,IAAMA,OAAO,GAAG,CACZ;AACEC,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,MAFZ;AAGEC,EAAAA,MAAM,EAAC;AAHT,CADY,EAMZ;AACEF,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,QAAQ,EAAE;AAFZ,CANY,EAUZ;AACID,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CAVY,EAcZ;AACID,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,QAAQ,EAAE,gBAFd;AAGIC,EAAAA,MAAM,EAAC;AAHX,CAdY,EAmBZ;AACIF,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,QAAQ,EAAE,OAFd;AAGIE,EAAAA,QAAQ,EAAE,IAHd;AAIID,EAAAA,MAAM,EAAC;AAJX,CAnBY,CAAhB;;IA2BME,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACf,sHAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE;AADG,KAAb;AAFe;AAKhB;;;;wCAGmB;AAAA;;AAClB,WAAKC,OAAL;AACA,WAAKC,QAAL,GAAgBC,WAAW,CAAC,YAAM;AAC9BC,QAAAA,YAAY,CAACC,KAAb;;AACA,QAAA,MAAI,CAACJ,OAAL;AACH,OAH0B,EAGxBK,OAAO,CAACC,GAAR,CAAYC,sBAHY,CAA3B;AAIH;;;;;;;;;;;;;uBAIsB,yBAAQ,4BAAR,C;;;AAAbR,gBAAAA,I;AACN,qBAAKS,QAAL,CAAc;AACVT,kBAAAA,IAAI,EAAEA,IAAI,CAACU,GAAL,CAAS,UAACC,MAAD,EAASC,KAAT;AAAA,2BAAoB;AAC/BC,sBAAAA,IAAI,EAAGD,KAAK,GAAG,CADgB;AAE/BE,sBAAAA,UAAU,EAAGH,MAAM,CAACG,UAFW;AAG/BH,sBAAAA,MAAM,EAAEA,MAAM,CAACI,WAHgB;AAI/BC,sBAAAA,cAAc,EAAEL,MAAM,CAACK,cAJQ;AAK/BC,sBAAAA,KAAK,EAACN,MAAM,CAACM;AALkB,qBAApB;AAAA,mBAAT;AADI,iBAAd;;;;;;;;;;;;;;;;;;2CAWoB;AACrBC,MAAAA,aAAa,CAAC,KAAKhB,QAAN,CAAb;AACD;;;6BAEO;AACL,aACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI,gCAAC,mCAAD;AACI,QAAA,OAAO,EAAEV,OADb;AAEI,QAAA,gBAAgB,MAFpB;AAGI,QAAA,cAAc,MAHlB;AAII,QAAA,OAAO,MAJX;AAKI,QAAA,SAAS,EAAC,eALd;AAMI,QAAA,IAAI,EAAE,KAAKO,KAAL,CAAWC,IANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAaP;;;EAjDwBmB,gB;;eAoDVtB,U","sourcesContent":["import React , {Component} from 'react';\nimport service from '../Services/service';\nimport DataTable from 'react-data-table-component';\n\nconst columns = [\n    {\n      name: 'Rank',\n      selector: 'rank',\n      center:true,\n    },\n    {\n      name: \"Admin Name\",\n      selector: 'admin_name'\n    },\n    {\n        name: 'School',\n        selector: 'school'\n    },\n    {\n        name: 'Address',\n        selector: 'school_address',\n        center:true,\n    },\n    {\n        name: 'Score',\n        selector: 'score',\n        sortable: true,\n        center:true,\n    },\n  ];\n\nclass SchoolList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: []\n        };\n      }\n\n\n      componentDidMount() {\n        this.getData();\n        this.interval = setInterval(() => {\n            localStorage.clear();\n            this.getData();\n        }, process.env.REACT_APP_REFRESH_RATE);\n    }\n\n\n    async getData() {\n        const data = await service('../data/school-scores.json');\n        this.setState({\n            data: data.map((school, index) => ({\n                rank : index + 1 , \n                admin_name : school.admin_name,\n                school: school.school_name,\n                school_address: school.school_address,\n                score:school.score   \n            }))\n        });\n    }\n\n     componentWillUnmount() {\n       clearInterval(this.interval);\n     }\n\n     render(){\n        return (\n            <div className=\"student-container\">\n                <h2>School Leaderboard</h2>\n                <DataTable\n                    columns={columns}\n                    highlightOnHover\n                    pointerOnHover\n                    striped\n                    className=\"student-table\"\n                    data={this.state.data}\n                />\n            </div>\n    );\n}}\n\n\nexport default SchoolList;\n"]}