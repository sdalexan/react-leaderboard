const axios = require('axios');

class Students {
    static async all() {
        let res = await axios.get('../data/students-scores.json').then(res => res.data);
        return res;
     }
}

class Classes {
    static async all() {
       let res = await axios.get('../data/class-scores.json').then(resp => resp.data);
       return res;
     }
}
class Schools {
    static async all() {
       let res = await axios.get('../data/school-scores.json').then(resp => resp.data);
       return res;
     }
}


jest.mock('axios');

test('Should fetch Students', () => {
    const students = [{
        "school_name": "state central",
        "name": "alyce fischer",
        "score": 995,
        "class_name": 3
    }];

    const resp = { data : students };

    axios.get.mockImplementation(() => Promise.resolve(resp));
    
    return Students.all().then(data => expect(data).toEqual(students));

});

